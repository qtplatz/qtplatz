# Compute installation prefix relative to this file
get_filename_component (_dir "${CMAKE_CURRENT_LIST_FILE}" PATH)
get_filename_component (_prefix "${_dir}/.." ABSOLUTE)

# Report other info
set ( QTPLATZ_DIR "${_dir}")

set ( QTPLATZ_SOURCE_DIR "@CMAKE_SOURCE_DIR@")
set ( QTPLATZ_BINARY_DIR "@CMAKE_BINARY_DIR@")
set ( QTPLATZ_INCLUDE_DIRS "@CMAKE_SOURCE_DIR@/src/libs" "@CMAKE_BINARY_DIR@/src/libs" "@CMAKE_SOURCE_DIR@/src")
set ( QTPLATZ_LIBRARY_DIRS "@CMAKE_BINARY_DIR@/lib" )

set ( QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY "@CMAKE_ARCHIVE_OUTPUT_DIRECTORY@" ) # .lib
set ( QTPLATZ_LIBRARY_OUTPUT_DIRECTORY "@CMAKE_LIBRARY_OUTPUT_DIRECTORY@" ) # module (dll)
set ( QTPLATZ_RUNTIME_OUTPUT_DIRECTORY "@CMAKE_RUNTIME_OUTPUT_DIRECTORY@" ) # exe

set ( CMAKE_INSTALL_PREFIX "@CMAKE_INSTALL_PREFIX@" )
set ( QTPLATZ_PLUGIN_DIRECTORY @QTPLATZ_PLUGIN_DIRECTORY@ )
set ( QTPLATZ_PLUGIN_DESTINATION @QTPLATZ_PLUGIN_DESTINATION@ )
set ( QTPLATZ_CORELIB_ONLY @QTPLATZ_CORELIB_ONLY@ )

if ( APPLE )
  set ( CMAKE_MACOSX_RPATH @CMAKE_MACOSX_RPATH@ )
endif()

if (NOT WIN32)
  set ( CPACK_SET_DESTDIR @CPACK_SET_DESTDIR@ )
endif()
set ( CPACK_INSTALL_PREFIX @CPACK_INSTALL_PREFIX@ )

include( "${QTPLATZ_SOURCE_DIR}/qtplatz.cmake" )

add_library( QTC::Core SHARED IMPORTED )
add_library( QTC::ExtensionSystem SHARED IMPORTED )
add_library( QTC::Utils SHARED IMPORTED )

add_library( adchem SHARED IMPORTED )
add_library( adcontrols SHARED IMPORTED )
add_library( adextension SHARED IMPORTED )
add_library( adlog SHARED IMPORTED )
add_library( adplugin SHARED IMPORTED )
add_library( adplugin_manager SHARED IMPORTED )
add_library( adorbmgr SHARED IMPORTED )
add_library( adsequence SHARED IMPORTED )
add_library( adplot SHARED IMPORTED )
add_library( adwidgets SHARED IMPORTED )
add_library( chromatogr SHARED IMPORTED )
add_library( portfolio SHARED IMPORTED )
add_library( u5303a SHARED IMPORTED )

add_library( adfs STATIC IMPORTED )
add_library( adinterface STATIC IMPORTED )
add_library( adportable STATIC IMPORTED )
add_library( acewrapper STATIC IMPORTED )
add_library( adutils STATIC IMPORTED )
add_library( qtwrapper STATIC IMPORTED )

if (WIN32)
  set_target_properties( QTC::Core PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/Core.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/Cored.lib )

  set_target_properties( QTC::ExtensionSystem PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/extensionsystem.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/extensionsystemd.lib )

  set_target_properties( QTC::Utils PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/Utils.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/Utilsd.lib )

  set_target_properties( adextension PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adextension.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adextensiond.lib )

  set_target_properties( adchem PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adchem.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adchemd.lib )
  
  set_target_properties( adcontrols PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adcontrols.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adcontrolsd.lib )

  set_target_properties( adlog PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adlog.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adlogd.lib )

  set_target_properties( adplugin PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adplugin.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adplugind.lib )

  set_target_properties( adplugin_manager PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adplugin_manager.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adplugin_managerd.lib )

  set_target_properties( adorbmgr PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adorbmgr.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adorbmgrd.lib )

  set_target_properties( adsequence PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adsequence.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adsequenced.lib )

  set_target_properties( adsequence PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adsequence.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adsequenced.lib )

  set_target_properties( adplot PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adplot.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adplotd.lib )

  set_target_properties( adwidgets PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adwidgets.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adwidgetsd.lib )

  set_target_properties( chromatogr PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/chromatogr.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/chromatogrd.lib )
  
  set_target_properties( portfolio PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/portfolio.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/portfoliod.lib )

  # u5303a is available only on Windows (COM dependent module)
  set_target_properties( u5303a PROPERTIES
    IMPORTED_IMPLIB     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/u5303a.lib
    IMPORTED_IMPLIB_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/u5303ad.lib )

elseif ( APPLE )

  set_target_properties( QTC::Core PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/QtProject/libCore.dylib )

  set_target_properties( QTC::ExtensionSystem PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libextensionsystem.dylib )

  set_target_properties( QTC::Utils PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libUtils.dylib )

  set_target_properties( adextension PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadextension.dylib )

  set_target_properties( adchem PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadchem.dylib )

  set_target_properties( adcontrols PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadcontrols.dylib )

  set_target_properties( adlog PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadlog.dylib )

  set_target_properties( adplugin PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadplugin.dylib )

  set_target_properties( adplugin_manager PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadplugin_manager.dylib )

  set_target_properties( adorbmgr PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadorbmgr.dylib )

  set_target_properties( adsequence PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadsequence.dylib )

  set_target_properties( adsequence PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadsequence.dylib )

  set_target_properties( adplot PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadplot.dylib )

  set_target_properties( adwidgets PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadwidgets.dylib )

  set_target_properties( chromatogr PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libchromatogr.dylib )
  
  set_target_properties( portfolio PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libportfolio.dylib )

else()  #Linux

  set_target_properties( QTC::Core PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/plugins/QtProject/libCore.so )

  set_target_properties( QTC::ExtensionSystem PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libextensionsystem.so )

  set_target_properties( QTC::Utils PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libutils.so )

  set_target_properties( adextension PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadextension.so )

  set_target_properties( adchem PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadchem.so )

  set_target_properties( adcontrols PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadcontrols.so )

  set_target_properties( adlog PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadlog.so )

  set_target_properties( adplugin PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadplugin.so )

  set_target_properties( adplugin_manager PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadplugin_manager.so )  

  set_target_properties( adorbmgr PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadorbmgr.so )

  set_target_properties( adsequence PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadsequence.so )

  set_target_properties( adsequence PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadsequence.so )

  set_target_properties( adplot PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadplot.so )

  set_target_properties( adwidgets PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libadwidgets.so )

  set_target_properties( chromatogr PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libchromatogr.so )
  
  set_target_properties( portfolio PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_LIBRARY_OUTPUT_DIRECTORY}/libportfolio.so )

endif()

if (WIN32)
  set_target_properties( adfs PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adfs.lib
    IMPORTED_LOCATION_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adfsd.lib )

  set_target_properties( adinterface PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adinterface.lib
    IMPORTED_LOCATION_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adinterfaced.lib )

  set_target_properties( adportable PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adportable.lib
    IMPORTED_LOCATION_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adportabled.lib )

  set_target_properties( acewrapper PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/acewrapper.lib
    IMPORTED_LOCATION_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/acewrapperd.lib )

  set_target_properties( adutils PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/adutils.lib
    IMPORTED_LOCATION_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/adutilsd.lib )

  set_target_properties( qtwrapper PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Release/qtwrapper.lib
    IMPORTED_LOCATION_DEBUG ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/Debug/qtwrapperd.lib )

else()

  set_target_properties( adfs PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/libadfs.a )

  set_target_properties( adinterface PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/libadinterface.a )

  set_target_properties( adportable PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/libadportable.a )

  set_target_properties( acewrapper PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/libacewrapper.a )

  set_target_properties( adutils PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/libadutils.a )

  set_target_properties( qtwrapper PROPERTIES
    IMPORTED_LOCATION     ${QTPLATZ_ARCHIVE_OUTPUT_DIRECTORY}/libqtwrapper.a )

endif()



