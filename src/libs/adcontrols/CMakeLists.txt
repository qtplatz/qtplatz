cmake_policy( SET CMP0028 NEW )
cmake_policy( SET CMP0022 NEW )

project( adcontrols )


find_package(Boost 1.57 REQUIRED COMPONENTS date_time system filesystem wserialization serialization)

add_definitions(-DADCONTROLS_LIBRARY)
if ( MSVC )
  add_definitions(-D_SCL_SECURE_NO_WARNINGS)  
endif()

add_library( adcontrols SHARED
  acceptor.cpp 
  acquireddataset.cpp 
  adcontrols.cpp
  annotation.cpp 
  annotations.cpp 
  baseline.cpp 
  baselines.cpp 
  centroidmethod.cpp 
  centroidprocess.cpp 
  chemicalformula.cpp 
  chromatogram.cpp 
  controlmethod.cpp
  ctable.cpp 
  ctfile.cpp 
  datafile.cpp 
  datafilebroker.cpp 
  datainterpreter.cpp
  datainterpreterbroker.cpp 
  datapublisher.cpp
  datareader.cpp
  datasubscriber.cpp 
  description.cpp 
  descriptions.cpp 
  elementalcomposition.cpp 
  elementalcompositioncollection.cpp 
  elementalcompositionmethod.cpp
  error_code.cpp
  isotopecluster.cpp 
  isotopemethod.cpp
  idaudit.cpp
  idaudit.hpp 
  lcmsdataset.cpp 
  lockmass.cpp
  logging_hook.cpp
  logging_hook.hpp   
  mappedspectrum.cpp
  mappedspectrum.hpp
  mappedspectra.cpp
  mappedspectra.hpp
  mappedimage.cpp
  mappedimage.hpp      
  massspectrometer.cpp 
  massspectrometerbroker.cpp 
  massspectrometer_factory.cpp 
  massspectra.cpp 
  massspectrum.cpp 
  molecule.cpp 
  msassignedmass.cpp 
  mscalibratemethod.cpp 
  mscalibrateresult.cpp 
  mscalibration.cpp 
  mswatchions.cpp 
  mslockmethod.cpp 
  mspeakinfoitem.cpp 
  msproperty.cpp 
  msreference.cpp 
  msreferencedefns.cpp 
  msreferences.cpp
  msident.cpp 
  msquant.cpp
  mspeakinfo.cpp
  mspeakinfo.hpp   
  mspeak.cpp 
  mspeaks.cpp 
  msqpeak.cpp 
  msqpeaks.cpp
  mschromatogramextractor.cpp     
  mschromatogrammethod.cpp
  mssimulatormethod.cpp
  moltable.cpp
  moltable.hpp
  peak.cpp 
  peakasymmetry.cpp 
  peakmethod.cpp 
  peakresolution.cpp 
  peaks.cpp 
  processeddataset.cpp 
  processmethod.cpp
  peakresult.cpp
  profile_time_array.cpp
  profile_time_array.hpp  
  quanmethod.cpp 
  quancompounds.cpp 
  quancompound.cpp 
  quansequence.cpp 
  quansample.cpp 
  quanreport.cpp 
  quanresponse.cpp 
  reportmethod.cpp 
  retentiontime.cpp
  samplerun.cpp
  scanlaw.hpp
  spectrogram.cpp
  spectrogram.hpp   
  tableofelement.cpp 
  targetingmethod.cpp
  theoreticalplate.cpp
  threshold_method.cpp
  threshold_action.cpp
  timedigitalmethod.cpp
  timedigitalhistogram.cpp
  timeutil.cpp
  tofchromatogrammethod.cpp
  tofchromatogramsmethod.cpp
  trace.cpp 
  traceaccessor.cpp 
  targeting.cpp
  targeting.hpp
  visitor.cpp 
  msfinder.cpp 
  quanresponses.cpp 
  quancalibration.cpp 
  quancalibrations.cpp 
  serializer.cpp
  waveform.cpp
  waveform_filter.cpp 
  )

target_include_directories( adcontrols PUBLIC ${CMAKE_CURRENT_SOURCE_DIR} )
target_link_libraries( adcontrols LINK_PUBLIC ${Boost_LIBRARIES} adportable )

#set_target_properties( adcontrols  PROPERTIES  LIBRARY_OUTPUT_DIRECTORY ${QTPLATZ_BINARY_DIR}/lib/qtplatz )      

install( TARGETS ${PROJECT_NAME}
  RUNTIME DESTINATION bin COMPONENT applications
  LIBRARY DESTINATION lib/qtplatz COMPONENT libraries 
  ARCHIVE DESTINATION lib/qtplatz COMPONENT libraries )

install( FILES
  acceptor.hpp 
  acquireddataset.hpp 
  adcontrols.hpp 
  baseline.hpp 
  baselines.hpp 
  centroidmethod.hpp 
  centroidprocess.hpp 
  chemicalformula.hpp 
  chromatogram.hpp 
  controlmethod.hpp
  ctable.hpp 
  ctfile.hpp 
  datafile.hpp 
  datafilebroker.hpp 
  datainterpreter.hpp
  datainterpreterbroker.hpp 
  datapublisher.hpp
  datareader.hpp
  datasubscriber.hpp 
  description.hpp 
  descriptions.hpp 
  elementalcomposition.hpp 
  elementalcompositioncollection.hpp 
  elementalcompositionmethod.hpp
  error_code.hpp
  isotopecluster.hpp 
  isotopemethod.hpp 
  lcmsdataset.hpp 
  lockmass.hpp
  logging_hook.hpp 
  mappedspectrum.hpp
  mappedspectrum.hpp
  mappedspectra.hpp
  mappedspectra.hpp
  mappedimage.hpp
  mappedimage.hpp      
  massspectrometer.hpp 
  massspectrometerbroker.hpp 
  massspectrometer_factory.hpp 
  massspectra.hpp 
  massspectrum.hpp 
  molecule.hpp 
  msassignedmass.hpp 
  mscalibratemethod.hpp 
  mscalibrateresult.hpp 
  mscalibration.hpp 
  mswatchions.hpp 
  mslockmethod.hpp 
  mspeakinfoitem.hpp 
  msproperty.hpp 
  msreference.hpp 
  msreferencedefns.hpp 
  msreferences.hpp 
  msident.hpp 
  msquant.hpp 
  peak.hpp 
  peakasymmetry.hpp 
  peakmethod.hpp 
  peakresolution.hpp 
  peaks.hpp 
  processeddataset.hpp 
  processmethod.hpp 
  reportmethod.hpp 
  retentiontime.hpp
  samplerun.hpp
  scanlaw.hpp
  serializer.hpp
  spectrogram.hpp 
  tableofelement.hpp
  targeting.hpp 
  targetingmethod.hpp
  theoreticalplate.hpp
  threshold_method.hpp
  threshold_action.hpp
  timedigitalmethod.hpp
  timedigitalhistogram.hpp
  timeutil.hpp 
  trace.hpp 
  traceaccessor.hpp 
  visitor.hpp 
  peakresult.hpp 
  annotation.hpp 
  annotations.hpp 
  mspeakinfo.hpp 
  mspeak.hpp 
  mspeaks.hpp 
  msqpeak.hpp 
  msqpeaks.hpp
  mschromatogramextractor.hpp
  mschromatogrammethod.hpp
  mssimulatormethod.hpp
  moltable.hpp
  profile_time_array.hpp 
  quanmethod.hpp 
  quancompounds.hpp 
  quancompound.hpp 
  quansequence.hpp 
  quansample.hpp 
  quanreport.hpp 
  quanresponse.hpp 
  msfinder.hpp 
  quanresponses.hpp 
  quancalibration.hpp 
  quancalibrations.hpp
  tofchromatogrammethod.hpp
  tofchromatogramsmethod.hpp
  waveform.hpp
  waveform_filter.hpp 
  DESTINATION include/adcontrols COMPONENT headers )
